(function(g){function d(a){this.type=a;this.eventHandlers=[]}var a=g.CAGE||{};a.event=a.event||{};a.event.emitter=a.event.emitter||{};d.prototype.add=function(a){this.eventHandlers.push(a)};d.prototype.remove=function(a){var h=this.eventHandlers,b;for(b in h)h[b]===a&&h.splice(b,1)};d.prototype.dispatch=function(){var a=this.eventHandlers,h=void 0,b;for(b in a)h=arguments[b]?arguments[b]:void 0,a[b](h)};a.event.emitter=d;"undefined"!==typeof module&&module.exports?module.exports=a:g.CAGE=a})(this);
(function(g){var d=g.document,a=g.CAGE||{},c=!1;a.util=a.util||{};"classList"in d.createElement("a")&&(c=!0);var h=function(e,f){return RegExp("^.*"+f+".*$").test(e.className)?!0:!1},b=function(e,f){this.hasClass(e,f)||(e.className=""==e.className?f:e.className+(" "+f))},l={object:{extend:function(e,f){for(var a in f)e[a]=f[a];return e}},dom:{hasClass:function(){return c?function(e,a){return e.classList.contains(a)}:h}(),addClass:function(){return c?function(e,a){return e.classList.add(a)}:b}(),removeClass:function(){return c?
function(a,f){return a.classList.remove(f)}:b}()},string:{trim:function(){return"trim"in String.prototype?function(a){return String.prototype.trim.call(a)}:function(a){return this.ltrim(this.rtrim(a))}}(),rtrim:function(a){return"trimRight"in String.prototype?function(a){return String.prototype.trimRight.call(a)}:function(a){return a.replace(/\s*$/,"")}}(),ltrim:function(a){return"trimLeft"in String.prototype?function(a){return String.prototype.trimLeft.call(a)}:function(a){return a.replace(/^\s*/,
"")}}()},template:{compiler:function(a,f){var c=l.string.trim(f),b;for(b in a)if(0===a[b]||a[b])c=c.replace(RegExp("\x3c%\x3d "+b+" %\x3e","gm"),a[b]);return c},getCompiler:function(){return this.compiler},get:function(e){var f=null;a.ajax.GET({url:e.url,isAsync:!1,callback:function(a){f=JSON.parse(a).data.template}});return f}}};a.util=l;"undefined"!==typeof module&&module.exports?module.exports=a:g.CAGE=a})(this);
(function(g){function d(a){this.status=this.targetEl=this.observerEl=this.interval=null;this.usable=!1;this._observer(a)}var a=g.CAGE||{};a.type=a.type||{};a.type.observer=a.type.observer||{};d.prototype={constructor:"Observer",_observer:function(a){void 0!==a&&(void 0!==a.interval&&(this.interval=a.interval),this.observerEl=a.observerEl,this.targetEl=a.targetEl,this.usable=null===this.observerEl||null===this.targetEl?!1:!0)},activate:function(){!0===this.usable&&null===this.status&&(this.status=
setInterval(this._handler.bind(this),this.interval))},deactivate:function(){clearInterval(this.status);this.status=null},_handler:function(){this._trigger(this._observe());this.deactivate()},_trigger:function(a){a.flag&&(a=new CustomEvent("observe",{detail:a}),this.observerEl.dispatchEvent(a))},_observe:function(){return null}};a.type.observer=d;"undefined"!==typeof module&&module.exports?module.exports=a:g.CAGE=a})(this);
(function(g){function d(){try{var a=new XMLHttpRequest}catch(e){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(f){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=null}}}return a}function a(a){return"\n"===a.substring(a.length-1)?a.substring(0,a.length-1):a}function c(b){var e=b.method,f=b.headers,c=b.url,g=b.callback,r=b.data,m=b.isAsync,n=b.success,p=b.failure,s=b.error;if(void 0!=c){void 0==m&&(m=!0);var k=d();if(void 0==k)h.log("Unable to create request");else{k.open(e,c,m);void 0!==g&&
k.addEventListener("readystatechange",function(a){4==k.readyState&&200==k.status&&(a=k.responseText,"\n"===a.substring(a.length-1)&&(a=a.substring(0,a.length-1)),g(a))},!1);void 0!==n&&k.addEventListener("load",function(e){e=e.target;if(200<=k.status&&300>k.status||304==k.status){a(k.responseText);var b=JSON.parse(k.responseText),f=b.status;200<=f&&300>f||304==f?n(b):(b=new CustomEvent("error",{detail:b}),e.dispatchEvent(b))}},!1);void 0!==p&&k.addEventListener("error",function(e){void 0!==e.detail?
p(e.detail):(a(k.responseText),e=JSON.parse(k.responseText),s(e))},!1);if(void 0!==f)for(var q in f)k.setRequestHeader(q,f[q]);k.send(r)}}}var h=g.console,b=g.CAGE||{};b.ajax=b.ajax||{};b.ajax={GET:function(a){a.method="GET";c(a)},POST:function(a){a.method="POST";a.headers={"Content-Type":"application/x-www-form-urlencoded"};c(a)},PUT:function(a){a.method="PUT";a.headers={"Content-Type":"application/x-www-form-urlencoded"};c(a)},DELETE:function(a){a.method="DELETE";c(a)}};"undefined"!==typeof module&&
module.exports?module.exports=b:g.CAGE=b})(this);
(function(g){function d(a){this.el=a.element;this.template=a.template;this.transitionEffect=a.transitionEffect?a.transitionEffect:"zoom";this.afteropen=new l("afteropen");this.afterclose=new l("afterclose");this.status={data:!1};this._init()}var a=g.document,c=g.CAGE||{};c.ui=c.ui||{};c.ui.popup=c.ui.popup||{};c.ui.popup.super_type=c.ui.popup.super_type||{};var h=c.util.dom,b=c.ajax,l=c.event.emitter;d.prototype._init=function(){this.el.addEventListener("click",this.openHandler.bind(this),!1)};d.prototype.openHandler=
function(a){"!"===this.template?b.GET({url:this.templateUrl,callback:function(b){this.template=this.templateLoader(b);a.preventDefault();a.stopPropagation();this._modularizeDOM()}.bind(this)}):this._modularizeDOM()};d.prototype._modularizeDOM=function(){this._counstructDOM();this._wrapAnimation()};d.prototype._wrapAnimation=function(){a.querySelector(".popup-wrap.popup-animation").addEventListener("transitionend",this.afteropenCallbackRef.bind(this),!1)};d.prototype.afteropenCallbackRef=function(b){"-webkit-transform"===
b.propertyName&&!1===this.status.data&&(a.querySelector(".popup-wrap.popup-animation").removeEventListener("webkitTransitionEnd",this.afteropenCallbackRef.bind(this),!1),this.afteropen.dispatch(a.querySelector(".popup-content")),this.status.data=!this.status.data,b=a.querySelector(".popup-container"),a.querySelector(".popup-content"),a.addEventListener("keyup",function(a){27==a.keyCode&&close()},!1),b.addEventListener("click",this._closeHandler.bind(this),!1))};d.prototype.open=function(){this.el.click()};
d.prototype.close=function(){a.querySelector(".popup-container").click()};d.prototype._closeHandler=function(b){var f={popupContainer:a.querySelector(".popup-container"),popupContent:a.querySelector(".popup-content"),popupBg:a.querySelector(".popup-bg"),popupWrap:a.querySelector(".popup-wrap")};b.target!==f.popupContainer&&b.target!==f.popupContent||this._closePopup(f)};d.prototype._closePopup=function(a){var b=a.popupBg,c=a.popupWrap;h.removeClass(b,"popup-ready");h.removeClass(c,"popup-ready");
b.addEventListener("transitionend",this._closePopupTransitionend.bind(this,event,a),!1)};d.prototype._closePopupTransitionend=function(b,f){var c=f.popupContent,h=f.popupBg,g=f.popupWrap;!0===this.status.data&&(this.afterclose.dispatch(c),this.status.data=!this.status.data,h?a.body.removeChild(h):void 0,g?a.body.removeChild(g):void 0)};d.prototype._getTemplate=function(){return this.template};d.prototype._counstructDOM=function(){var b=this.transitionEffect,f=a.createElement("div"),c=f.cloneNode(!1),
g=f.cloneNode(!1),d=f.cloneNode(!1),f=f.cloneNode(!1);h.addClass(c,"popup-bg");h.addClass(c,"popup-animation");h.addClass(g,"popup-wrap");h.addClass(g,"popup-animation");h.addClass(d,"popup-container");h.addClass(f,"popup-content");f.innerHTML=this._getTemplate();d.appendChild(f);void 0!=b&&h.addClass(f,b+"-animation-dialog");g.appendChild(d);a.body.insertAdjacentHTML("afterbegin",c.outerHTML+g.outerHTML);(b=a.querySelector(".popup-wrap button[data-role\x3d'close']"))&&b.addEventListener("click",
this.closePopup,!1);b=a.querySelector(".popup-wrap.popup-animation");c=a.querySelector(".popup-bg.popup-animation");b.offsetHeight;c.offsetHeight;c.style.transform="translateY(0px)";h.addClass(b,"popup-ready");h.addClass(c,"popup-ready")};c.ui.popup.super_type=d;"undefined"!==typeof module&&module.exports?module.exports=c:g.CAGE=c})(this);
(function(g){function d(a){this.el=a.element;this.template="!";this.transitionEffect=a.transitionEffect?a.transitionEffect:"zoom";this.templateUrl=a.templateUrl;this.templateLoader=a.templateLoader?a.templateLoader:function(a){return a};this.afteropen=new c("afteropen");this.afterclose=new c("afterclose");this.status={data:!1};this._init()}var a=g.CAGE||{};a.ui=a.ui||{};a.ui.popup=a.ui.popup||{};a.ui.popup.ajax=a.ui.popup.ajax||{};var c=a.event.emitter;d.prototype=a.ui.popup.prototype;a.ui.popup.ajax=
d;"undefined"!==typeof module&&module.exports?module.exports=a:g.CAGE=a})(this);
(function(g){function d(){this.wrapperCollections=[];this.itemCollections=[];this.init();this.setEvent()}function a(a){for(var c=0,e=0;a&&"body"!=a.tagName.toLowerCase()&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft-a.scrollLeft,e+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:e,left:c}}var c=g.document,h=g.CAGE||{};h.ui=h.ui||{};d.prototype.init=function(){var b=c.querySelectorAll(".parallax-wrapper"),d=this.wrapperCollections;[].forEach.call(b,function(a){d.push(a)});for(var e in d)[].forEach.call(d[e].querySelectorAll(".parallax-item"),
function(b){b.style.transform="translateY(0px)";var c=g.getComputedStyle(b);b.setAttribute("data-initialTopOffset",a(b).top);b.setAttribute("data-initialLeftOffset",a(b).left);b.setAttribute("data-initialTop",c.top);b.setAttribute("data-initialLeft",c.left);b.setAttribute("data-initialMarginLeft",c.marginLeft)})};d.prototype.setEvent=function(){c.addEventListener("mousemove",function(a){var d=c.querySelector(".parallax-wrapper").querySelectorAll(".parallax-item");[].forEach.call(d,function(e){var f=
parseInt(e.getAttribute("data-rangex"))||0,d=parseInt(e.getAttribute("data-rangey"))||0,h=-1<e.parentNode.getAttribute("class").indexOf("parallax-bg")||e.hasAttribute("data-reverse")?-1:1;g.getComputedStyle(c.body);var l=a.x?a.x/parseInt(g.innerWidth):0.5,m=a.y?a.y/parseInt(g.innerHeight):0.5;e.style.left=parseInt(e.getAttribute("data-initialLeftOffset"))+h*f*(l-0.5)+"px";e.style.marginLeft="0";e.style.top=parseInt(e.getAttribute("data-initialTopOffset"))+h*d*(m-0.5)-40+"px";e.style.marginTop="0"})},
!1);g.addEventListener("resize",function(b){b=c.querySelector(".parallax-wrapper").querySelectorAll(".parallax-item");[].forEach.call(b,function(b){b.setAttribute("style","");b.setAttribute("data-initialTopOffset",a(b).top);b.setAttribute("data-initialLeftOffset",a(b).left)})},!1)};h.ui.parallax=d;"undefined"!==typeof module&&module.exports?module.exports=h:g.CAGE=h})(this);