(function(e){function c(a){this.type=a;this.eventHandlers=[]}var a=e.CAGE||{};a.event=a.event||{};a.event.emitter=a.event.emitter||{};c.prototype.add=function(a){this.eventHandlers.push(a)};c.prototype.remove=function(a){var h=this.eventHandlers,c;for(c in h)h[c]===a&&h.splice(c,1)};c.prototype.dispatch=function(){var a=this.eventHandlers,c=void 0,e;for(e in a)c=arguments[e]?arguments[e]:void 0,a[e](c)};a.event.emitter=c;"undefined"!==typeof module&&module.exports?module.exports=a:e.CAGE=a})(this);
(function(e){var c=e.document,a=e.CAGE||{},f=!1;a.util=a.util||{};"classList"in c.createElement("a")&&(f=!0);var h=function(b,d){return RegExp("^.*"+d+".*$").test(b.className)?!0:!1},k=function(b,d){this.hasClass(b,d)||(b.className=""==b.className?d:b.className+(" "+d))},g={object:{extend:function(b,d){for(var a in d)b[a]=d[a];return b}},dom:{hasClass:function(){return f?function(b,d){return b.classList.contains(d)}:h}(),addClass:function(){return f?function(b,d){return b.classList.add(d)}:k}(),removeClass:function(){return f?
function(b,d){return b.classList.remove(d)}:k}()},string:{trim:function(){return"trim"in String.prototype?function(b){return String.prototype.trim.call(b)}:function(b){return this.ltrim(this.rtrim(b))}}(),rtrim:function(b){return"trimRight"in String.prototype?function(b){return String.prototype.trimRight.call(b)}:function(b){return b.replace(/\s*$/,"")}}(),ltrim:function(b){return"trimLeft"in String.prototype?function(b){return String.prototype.trimLeft.call(b)}:function(b){return b.replace(/^\s*/,
"")}}()},template:{compiler:function(b,a){var f=g.string.trim(a),c;for(c in b)if(0===b[c]||b[c])f=f.replace(RegExp("\x3c%\x3d "+c+" %\x3e","gm"),b[c]);return f},getCompiler:function(){return this.compiler},get:function(b){var d=null;a.ajax.GET({url:b.url,isAsync:!1,callback:function(b){d=JSON.parse(b).data.template}});return d}}};a.util=g;"undefined"!==typeof module&&module.exports?module.exports=a:e.CAGE=a})(this);
(function(e){function c(a){this.status=this.targetEl=this.observerEl=this.interval=null;this.usable=!1;this._observer(a)}var a=e.CAGE||{};a.type=a.type||{};a.type.observer=a.type.observer||{};c.prototype={constructor:"Observer",_observer:function(a){void 0!==a&&(void 0!==a.interval&&(this.interval=a.interval),this.observerEl=a.observerEl,this.targetEl=a.targetEl,this.usable=null===this.observerEl||null===this.targetEl?!1:!0)},activate:function(){!0===this.usable&&null===this.status&&(this.status=
setInterval(this._handler.bind(this),this.interval))},deactivate:function(){clearInterval(this.status);this.status=null},_handler:function(){this._trigger(this._observe());this.deactivate()},_trigger:function(a){a.flag&&(a=new CustomEvent("observe",{detail:a}),this.observerEl.dispatchEvent(a))},_observe:function(){return null}};a.type.observer=c;"undefined"!==typeof module&&module.exports?module.exports=a:e.CAGE=a})(this);
(function(e){function c(){try{var a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){a=null}}}return a}function a(a){return"\n"===a.substring(a.length-1)?a.substring(0,a.length-1):a}function f(g){var b=g.method,d=g.headers,e=g.url,f=g.callback,k=g.data,m=g.isAsync,n=g.success,q=g.failure,s=g.error;if(void 0!=e){void 0==m&&(m=!0);var l=c();if(void 0==l)h.log("Unable to create request");else{l.open(b,e,m);void 0!==f&&
l.addEventListener("readystatechange",function(a){4==l.readyState&&200==l.status&&(a=l.responseText,"\n"===a.substring(a.length-1)&&(a=a.substring(0,a.length-1)),f(a))},!1);void 0!==n&&l.addEventListener("load",function(b){b=b.target;if(200<=l.status&&300>l.status||304==l.status){a(l.responseText);var d=JSON.parse(l.responseText),g=d.status;200<=g&&300>g||304==g?n(d):(d=new CustomEvent("error",{detail:d}),b.dispatchEvent(d))}},!1);void 0!==q&&l.addEventListener("error",function(b){void 0!==b.detail?
q(b.detail):(a(l.responseText),b=JSON.parse(l.responseText),s(b))},!1);if(void 0!==d)for(var r in d)l.setRequestHeader(r,d[r]);l.send(k)}}}var h=e.console,k=e.CAGE||{};k.ajax=k.ajax||{};k.ajax={GET:function(a){a.method="GET";f(a)},POST:function(a){a.method="POST";a.headers={"Content-Type":"application/x-www-form-urlencoded"};f(a)},PUT:function(a){a.method="PUT";a.headers={"Content-Type":"application/x-www-form-urlencoded"};f(a)},DELETE:function(a){a.method="DELETE";f(a)}};"undefined"!==typeof module&&
module.exports?module.exports=k:e.CAGE=k})(this);
(function(e){function c(a){this.el=a.element;this.template=a.template;this.transitionEffect=a.transitionEffect?a.transitionEffect:"zoom";this.afteropen=new g("afteropen");this.afterclose=new g("afterclose");this.status={data:!1};this._init()}var a=e.document,f=e.CAGE||{};f.ui=f.ui||{};f.ui.popup=f.ui.popup||{};f.ui.popup.super_type=f.ui.popup.super_type||{};var h=f.util.dom,k=f.ajax,g=f.event.emitter;c.prototype._init=function(){this.el.addEventListener("click",this.openHandler.bind(this),!1)};c.prototype.openHandler=
function(a){"!"===this.template?k.GET({url:this.templateUrl,callback:function(d){this.template=this.templateLoader(d);a.preventDefault();a.stopPropagation();this._modularizeDOM()}.bind(this)}):this._modularizeDOM()};c.prototype._modularizeDOM=function(){this._counstructDOM();this._wrapAnimation()};c.prototype._wrapAnimation=function(){a.querySelector(".popup-wrap.popup-animation").addEventListener("transitionend",this.afteropenCallbackRef.bind(this),!1)};c.prototype.afteropenCallbackRef=function(b){"-webkit-transform"===
b.propertyName&&!1===this.status.data&&(a.querySelector(".popup-wrap.popup-animation").removeEventListener("webkitTransitionEnd",this.afteropenCallbackRef.bind(this),!1),this.afteropen.dispatch(a.querySelector(".popup-content")),this.status.data=!this.status.data,b=a.querySelector(".popup-container"),a.querySelector(".popup-content"),a.addEventListener("keyup",function(a){27==a.keyCode&&close()},!1),b.addEventListener("click",this._closeHandler.bind(this),!1))};c.prototype.open=function(){this.el.click()};
c.prototype.close=function(){a.querySelector(".popup-container").click()};c.prototype._closeHandler=function(b){var d={popupContainer:a.querySelector(".popup-container"),popupContent:a.querySelector(".popup-content"),popupBg:a.querySelector(".popup-bg"),popupWrap:a.querySelector(".popup-wrap")};b.target!==d.popupContainer&&b.target!==d.popupContent||this._closePopup(d)};c.prototype._closePopup=function(a){var d=a.popupBg,c=a.popupWrap;h.removeClass(d,"popup-ready");h.removeClass(c,"popup-ready");
d.addEventListener("transitionend",this._closePopupTransitionend.bind(this,event,a),!1)};c.prototype._closePopupTransitionend=function(b,d){var c=d.popupContent,g=d.popupBg,e=d.popupWrap;!0===this.status.data&&(this.afterclose.dispatch(c),this.status.data=!this.status.data,g?a.body.removeChild(g):void 0,e?a.body.removeChild(e):void 0)};c.prototype._getTemplate=function(){return this.template};c.prototype._counstructDOM=function(){var b=this.transitionEffect,d=a.createElement("div"),c=d.cloneNode(!1),
g=d.cloneNode(!1),e=d.cloneNode(!1),d=d.cloneNode(!1);h.addClass(c,"popup-bg");h.addClass(c,"popup-animation");h.addClass(g,"popup-wrap");h.addClass(g,"popup-animation");h.addClass(e,"popup-container");h.addClass(d,"popup-content");d.innerHTML=this._getTemplate();e.appendChild(d);void 0!=b&&h.addClass(d,b+"-animation-dialog");g.appendChild(e);a.body.insertAdjacentHTML("afterbegin",c.outerHTML+g.outerHTML);(b=a.querySelector(".popup-wrap button[data-role\x3d'close']"))&&b.addEventListener("click",
this.closePopup,!1);b=a.querySelector(".popup-wrap.popup-animation");c=a.querySelector(".popup-bg.popup-animation");b.offsetHeight;c.offsetHeight;c.style.transform="translateY(0px)";h.addClass(b,"popup-ready");h.addClass(c,"popup-ready")};f.ui.popup.super_type=c;"undefined"!==typeof module&&module.exports?module.exports=f:e.CAGE=f})(this);
(function(e){function c(a){this.el=a.element;this.template="!";this.transitionEffect=a.transitionEffect?a.transitionEffect:"zoom";this.templateUrl=a.templateUrl;this.templateLoader=a.templateLoader?a.templateLoader:function(a){return a};this.afteropen=new f("afteropen");this.afterclose=new f("afterclose");this.status={data:!1};this._init()}var a=e.CAGE||{};a.ui=a.ui||{};a.ui.popup=a.ui.popup||{};a.ui.popup.ajax=a.ui.popup.ajax||{};var f=a.event.emitter;c.prototype=a.ui.popup.prototype;a.ui.popup.ajax=
c;"undefined"!==typeof module&&module.exports?module.exports=a:e.CAGE=a})(this);
(function(e){function c(){this.wrapperCollections=[];this.itemCollections=[];this.init();this.setEvent()}function a(a){for(var b=0,d=0;a&&"body"!=a.tagName.toLowerCase()&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,d+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:d,left:b}}var f=e.document,h=e.console,k=e.CAGE||{};k.ui=k.ui||{};c.prototype.init=function(){var c=f.querySelectorAll(".parallax-wrapper"),b=this.wrapperCollections;[].forEach.call(c,function(a){b.push(a)});
for(var d in b)[].forEach.call(b[d].querySelectorAll(".parallax-item"),function(b){b.style.transform="translateY(0px)";var d=e.getComputedStyle(b);b.setAttribute("data-initialTopOffset",a(b).top);b.setAttribute("data-initialLeftOffset",a(b).left);b.setAttribute("data-initialTop",d.top);b.setAttribute("data-initialLeft",d.left);b.setAttribute("data-initialMarginLeft",d.marginLeft)})};c.prototype.setEvent=function(){f.addEventListener("mousemove",function(a){var b=f.querySelector(".parallax-wrapper").querySelectorAll(".parallax-item");
h.log("parallax_set start");[].forEach.call(b,function(b){var c=parseInt(b.getAttribute("data-rangex"))||0,k=parseInt(b.getAttribute("data-rangey"))||0,p=-1<b.parentNode.getAttribute("class").indexOf("parallax-bg")||b.hasAttribute("data-reverse")?-1:1;e.getComputedStyle(f.body);var m=a.x?a.x/parseInt(e.innerWidth):0.5,n=a.y?a.y/parseInt(e.innerHeight):0.5;h.log(e.innerWidth);b.style.left=parseInt(b.getAttribute("data-initialLeftOffset"))+p*c*(m-0.5)+"px";b.style.marginLeft="0";b.style.top=parseInt(b.getAttribute("data-initialTopOffset"))+
p*k*(n-0.5)-40+"px";b.style.marginTop="0"});h.log("parallax_set end")},!1);e.addEventListener("resize",function(c){c=f.querySelector(".parallax-wrapper").querySelectorAll(".parallax-item");[].forEach.call(c,function(b){b.setAttribute("style","");b.setAttribute("data-initialTopOffset",a(b).top);b.setAttribute("data-initialLeftOffset",a(b).left)})},!1)};k.ui.parallax=c;"undefined"!==typeof module&&module.exports?module.exports=k:e.CAGE=k})(this);